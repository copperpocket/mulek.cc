---
interface Props {
  title: string;
  description: string;
  tags: string[];
  category: string;
  slug: string;
  image?: string;
  url?: string;
  github?: string;
}

const { title, description, tags, category, slug, github, url, image } = Astro.props;
---

<div 
  class="project-card bg-white dark:bg-neutral-900 rounded-lg shadow-xl overflow-hidden transition-all duration-500 hover:shadow-2xl hover:scale-[1.02] flex flex-col"
  data-category={category} 
>
  {image && (
    <!-- Aspect-ratio wrapper for responsive height -->
    <div class="relative w-full tall:pt-[20%] xtall:pt-[33%]">
      <div 
        class={`absolute inset-0 bg-cover bg-center`}
        style={`background-image: url('${image}')`}
      ></div>
    </div>
  )}

  <div class="p-6 flex flex-col flex-1">
    <h2 class="text-xl font-semibold mb-2">{title}</h2>
    <p class="text-neutral-600 dark:text-neutral-400 mb-4 text-sm flex-1">{description}</p>
    
    <div class="flex justify-between items-center mb-4">
      <div class="flex flex-wrap gap-1">
        {tags.map(tag => (
          <span class="text-xs font-medium px-2 py-1 rounded-full bg-accent/20 dark:bg-accent/30 text-accent border border-accent/50">
            {tag}
          </span>
        ))}
      </div>

      <span class="text-xs font-medium px-3 py-1 rounded-full bg-secondary/20 dark:bg-secondary/30 text-secondary border border-secondary/50">
        {category}
      </span>
    </div>
    
    <div class="flex flex-col gap-3 mt-auto">
      <a 
        href={slug} 
        class="w-full text-center px-4 py-2 bg-accent text-white font-semibold rounded-lg hover:bg-accent/90 transition text-sm"
      >
        View Details &rarr;
      </a>

      <div class="flex justify-between text-sm">
        {url && (
          <a href={url} target="_blank" class="text-accent hover:text-accent/80 font-medium transition">
            View Live
          </a>
        )}
        {github && (
          <a href={github} target="_blank" class="text-neutral-600 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition">
            GitHub
          </a>
        )}
      </div>
    </div>
  </div>
</div>
